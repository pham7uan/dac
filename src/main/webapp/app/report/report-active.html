<div id="page_content">
    <div id="page_heading" data-uk-sticky="{top:40, media:960}" class="header-fixed">
        <span class="router-header" style="font-size:large" >
            <a class="uk-text-primary" ui-sref="report-active">Báo cáo</a>
            <i class="uk-icon-arrow-circle-right"></i>
            <a class="uk-text-primary">Báo cáo số lượng thiết bị kích hoạt theo khu vực</a>
        </span>
        <br>
        <div class="uk-margin-small-top">
            <a has-any-authority="ROLE_SYSTEM_ADMIN, Device_Report_View" id="btnExportPdf" data-uk-modal="{target:'#modal_overflow'}"
               class="md-btn md-btn-small md-btn-danger" ng-class="{ disabled : deviceReportInfo.url == null }" ng-click="exportPdf()">
                <span class="uk-text-bold">XUẤT FILE PDF</span>
            </a>
            <a has-any-authority="ROLE_SYSTEM_ADMIN, Device_Report_View" id="btnExportExcel" data-uk-modal="{target:'#modal_overflow'}"
               class="md-btn md-btn-small md-btn-success" ng-class="{ disabled : deviceReportInfo.url == null }" ng-click="exportExcel()">
                <span class="uk-text-bold">XUẤT FILE EXCEL</span>
            </a>
        </div>
    </div>
    <div id="page_content_inner">
        <div class="md-card">
            <div class="md-card-content">
                <div class="uk-grid">
                    <div class="uk-width-small-1-4">
                        <b>Khu vực</b>
                        <input id="area" name="area" position="bottom"
                            config="ComboBox['area'].config"
                            options="ComboBox['area'].options"
                            ng-model="searchInfo.areaIds"
                            table="ComboBox['area'].table"
                            column="ComboBox['area'].column"
                            scope-controller="ComboBox['area'].scope" selectize>
                    </div>
                </div>
            </div>
            <div class="md-card-content">
                <div class="uk-grid">
                    <div class="uk-width-small-1-4">
                        <b>Ngày kích hoạt từ</b>
                        <div style="margin-top: 2px;">
                            <input id="activeStartDatePicker" value="" style="width: 100%;"/>
                        </div>
                    </div>
                    <div class="uk-width-small-1-4">
                        <b>Đến</b>
                        <div style="margin-top: 2px;">
                            <input id="activeEndDatePicker"  style="width: 100%;"/>
                        </div>
                    </div>
                    <div class="uk-width-small-1-2">
                        <br/><button id="searchBtn" class="md-btn md-btn-small md-btn-primary" ng-class="{ disabled : isSearching }" ng-click="processSearch()">Tìm kiếm</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-overflow-container uk-margin-bottom table-height-fixed">
            <div ng-if="deviceReportInfo.url != null">
                <iframe src="{{deviceReportInfo.url}}" width="100%" height="300px"></iframe>
            </div>
        </div>
    </div>
    <!--EXPORT Modal-->
    <div class="uk-modal" id="download_modal">
        <div class="uk-modal-dialog uk-modal-dialog-small">
            <div class="uk-modal-header" style="margin: 0 -24px 0px">
                <span><span class="uk-modal-title">Xuất dữ liệu báo cáo</span><a class="uk-modal-close" style="float: right;"><i class="material-icons">&#xE14C;</i></a></span>
            </div>
            <hr>
            <a href={{downloadUrl}} >Bấm vào đây để tải xuống</a>

            <div class="uk-modal-footer uk-text-right">
                <button  class="uk-modal-close md-btn  md-btn-default md-btn-small"><span class="uk-text-bold">Hủy bỏ</span></button>
            </div>
        </div>
    </div>
    <button data-uk-modal="{target:'#download_modal'}" id="exportReport" ng-show="false"></button>
</div>